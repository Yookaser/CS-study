# Chapter3 프로세스

[[_TOC_]]

- 오늘날의 컴퓨터 시스템들은 메모리에 다수의 프로그램이 적재되어 병행 실행 되는데, 이러한 발전은 다양한 프로그램을 보다 견고하게 제어하고 보다 구획화할 것이 필요
  - 이런 필요가 프로세스의 개념을 낳았고, **프로세스**란 실행 중인 프로그램을 말함(현대 컴퓨팅 시스템에서 작업의 단위)



## 3.1 프로세스 개념

- 모든 CPU 활동들을 어떻게 부를 것인가?
  - 과거
    - 초기 컴퓨터는 **작업**을 실행하는 일괄 처리 시스템
    - 이후 **사용자 프로그램** 또는 **태스크**를 실행하는 시분할 시스템



### 3.1.1 프로세스

- **프로세스**

  - 비공식적으로 프로세스란 실행 중인 프로그램
  - 프로세스의 현재 활동의 상태는 **프로그램 카운터** 값과 프로세서 레지스터의 내용으로 나뉨
  - 프로세스의 메모리 배치는 일반적으로 여러 섹션으로 구분
    - **텍스트 섹션** - 실행 코드
    - **데이터 섹션** - 전역 변수
    - **힙 섹션** - 프로그램 실행 중에 동적으로 할당되는 메모리
    - **스택 섹션** - 함수를 호출할 때 임시 데이터 저장장소(예: 함수 매개변수, 복귀 주소, 지역 변수)
      - 텍스트 및 데이터 섹션의 크기는 고정되기 때문에 실행 시간동안 크기가 변하지 않음
      - 스택 및 힙 섹션은 프로그램 실행 중에 동적으로 줄어들거나 커질 수 있음
        - 스택 섹션
          - 함수가 호출될 때마다 함수 매개변수, 지역 변수, 복귀 주소를 포함하는 **활성화 레코드**가 스택의 푸쉬
          - 함수에서 제어가 되돌아오면 스택에서 **활성화 레코드**가 팝됨
        - 힙 섹션
          - 메모리가 동적으로 할당됨에 따라 힙이 커지고 메모리가 시스템에 반환되면 축소
        - 스택과 힙 섹션이 서로의 **방향으로** 커지더라도 운영체제는 서로 **겹치지** 않도록 해야 함

  

  - 프로그램과 프로세스
    - 프로그램 그 자체는 프로세스가 아님
      - 프로그램은 명령어 리스트를 내용으로 가진 디스크에 저장된 파일(**실행 파일**)과 같은 **수동적인** 존재
      - 프로세스는 다음에 실행할 명령어를 지정하는 프로그램 카운터와 관련 자원의 집합을 가진 **능동적인** 존재
    - 실행 파일이 메모리에 적재될 때 프로그램은 프로세스가 됨
      - 적재의 방법
        1. 실행 파일을 나타내는 아이콘을 더블 클릭
        2. 명령어 라인상에서 `prog.exe` 또는 `a.out`과 같이 파일이름을 입력하는 방식

  

  - 두 프로세스들이 동일한 프로그램에 연관될 수 있지만, 이들 두 개의 별도의 실행 순서로 간주
    - 즉, 텍스트 섹션이 동등하다 할지라도 데이터, 힙, 스택 섹션은 다를 수 있음
    - 프로세스가 실행되는 과정에서 많은 프로세스를 생성하는 것이 보통

  

  - 프로세스 자체가 다른 개체를 위한 실행 환경으로 동작할 수 있음
    - Java의 예
      - 대부분의 상황에서 실행 가능한 Java 프로그램은 Java 가상기계(JVM) 안에서 실행
      - JVM은 적재된 Java 코드를 해석하고 그 코드를 대신하여 원 기계어를 이용하여 행동을 취하는 프로세스로서 프로그램을 실행
        - 예를 들어, 컴파일된 Java 프로그램 Program.class를 실행하기 위해 `java program` 명령어 입력
          - java 명령어는 JVM을 보통의 프로세스처럼 실행시킴
          - JVM은 Java 프로그램 Program을 가상기계 안에서 실행

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

















